const VERSION="1",STATIC_CACHE_NAME=`static-v${VERSION}`;async function cacheUrls(e,t){let a=await caches.open(e);a.addAll(t)}async function cleanOldCaches(e){let t=await caches.keys(),a=t.filter(t=>t!==e);a.forEach(e=>caches.delete(e))}self.addEventListener("install",()=>{let e=["/","/style.css","/main.js","/192.png","/manifest.json"];cacheUrls(STATIC_CACHE_NAME,e)}),self.addEventListener("activate",()=>{cleanOldCaches(STATIC_CACHE_NAME)}),self.addEventListener("fetch",async e=>{e.respondWith((async()=>{let t=new URL(e.request.url),a=await caches.open(STATIC_CACHE_NAME),n=await a.match(t.pathname);if(void 0!=n)return n;{let s=await fetch(t.pathname);return s.ok&&a.put(t.pathname,s.clone()),s}})())});